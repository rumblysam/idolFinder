<!DOCTYPE html>
<html>
    <head>
        <title></title>
        <!--<link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/materialize/0.98.2/css/materialize.min.css">-->
        <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/materialize/0.98.1/css/materialize.min.css">
        <link href="http://fonts.googleapis.com/icon?family=Material+Icons" rel="stylesheet">
        <script src="https://code.jquery.com/jquery-3.1.1.min.js" integrity="sha256-hVVnYaiADRTO2PzUGmuLJr8BLUSjGIZsDYGmIJLv2b8=" crossorigin="anonymous"></script>

        <meta name="viewport" content="width=device-width, initial-scale=1.0"/>
        
        <link rel="stylesheet" href="./assets/css/style.css">
    </head>
    <body>
        <header>
            <nav class="nav-extended">
                <div class="container">
                    <div class="nav-wrapper">
                        <h1 class="title">idolFinder</h1>
                        <div class="nav-content">
                            <ul class="tabs tabs-transparent">
                                <li class="tab"><a id="home-nav">Home</a></li>
                                <li class="tab"><a class="active" href="./survey.html">Survey</a></li>
                            </ul>
                        </div>
                    </div>
                </div>
            </nav>
        </header>


        <div class="container">
            <h2>Survey Questions</h2>

            <div class="row">
                <form class="col s12">
                    <div class="row">
                        <div class="input-field col s6">
                            <input placeholder="Name (Required)" id="name" type="text" class="validate">
                            <label for="name"></label>
                        </div>
                    </div>
                    <div class="row survey-input">     
                        <div class="input-field col s6">
                            <input placeholder="Link to Photo (Required)" id="photo" type="url" class="validate">
                            <label for="photo"></label>
                        </div>
                    </div>
 
                </form>

            </div>
            <div class="divider"></div>
          
            <div class="row">
                <form class="col s12">
                    <div class="row">
                        <div class="input-field col s12">
                            <h3>1</h3>
                            <p class="question">You're very talkative</p>
                            <div class="input-field col s6">
                                <select class="answer" id="q1">
                                    <option value="" disabled selected>Choose your option</option>
                                    <option value="5">5 Strongly Agree</option>
                                    <option value="4">4</option>
                                    <option value="3">3</option>
                                    <option value="2">2</option>
                                    <option value="1">1 Strongly Disagree</option>
                                </select>
                                <!--<label>Materialize Select</label>-->
                            </div>
                        </div>
                    </div>
                    <div class="row">
                        <div class="input-field col s12">
                            <h3>2</h3>
                            <p class="question">You like to read</p>
                            <div class="input-field col s6">
                                <select class="answer" id="q2">
                                    <option value="" disabled selected>Choose your option</option>
                                    <option value="5">5 Strongly Agree</option>
                                    <option value="4">4</option>
                                    <option value="3">3</option>
                                    <option value="2">2</option>
                                    <option value="1">1 Strongly Disagree</option>
                                </select>
                                
                            </div>
                        </div>
                    </div>
                    <div class="row">
                        <div class="input-field col s12">
                            <h3>3</h3>
                            <p class="question">question</p>
                              <div class="input-field col s6">
                                  <select class="answer" id="q3">
                                      <option value="" disabled selected>Choose your option</option>
                                        <option value="5">5 Strongly Agree</option>
                                        <option value="4">4</option>
                                        <option value="3">3</option>
                                        <option value="2">2</option>
                                        <option value="1">1 Strongly Disgree</option>
                                  </select>
                                  
                              </div>
                        </div>
                    </div>
                    <div class="row">
                        <div class="input-field col s12">
                            <h3>4</h3>
                            <p class="question">the question</p>
                            <div class="input-field col s6">
                                <select class="answer" id="q4">
                                    <option value="" disabled selected>Choose your option</option>
                                    <option value="5">5 Strongly Agree</option>
                                    <option value="4">4</option>
                                    <option value="3">3</option>
                                    <option value="2">2</option>
                                    <option value="1">1 Strongly Disagree</option>
                                </select>
                               
                            </div>
                        </div>
                     </div>
                    <div class="row">
                        <div class="input-field col s12">
                            <h3>5</h3>
                            <p class="question">the question</p>
                            <div class="input-field col s6">
                                <select class="answer" id="q5">
                                    <option value="" disabled selected>Choose your option</option>
                                    <option value="5">5 Strongly Agree</option>
                                    <option value="4">4</option>
                                    <option value="3">3</option>
                                    <option value="2">2</option>
                                    <option value="1">1 Strongly Disagree</option>
                                </select>
                                
                            </div>
                        </div>
                     </div>
                    <div class="row">
                        <div class="input-field col s12">
                            <h3>6</h3>
                            <p class="question">the question</p>
                            <div class="input-field col s6">
                                <select class="answer" id="q6">
                                    <option value="" disabled selected>Choose your option</option>
                                    <option value="5">Strongly Agree</option>
                                    <option value="4">4</option>
                                    <option value="3">3</option>
                                    <option value="2">2</option>
                                    <option value="1">1 Strongly Disagree</option>
                                </select>
                                
                            </div>
                        </div>
                     </div>
                    <div class="row">
                        <div class="input-field col s12">
                            <h3>7</h3>
                            <p class="question">the question</p>
                            <div class="input-field col s6">
                                <select class="answer" id="q7">
                                    <option value="" disabled selected>Choose your option</option>
                                    <option value="5">5 Strongly Agree</option>
                                    <option value="4">4</option>
                                    <option value="3">3</option>
                                    <option value="2">2</option>
                                    <option value="1">1 Strongly Disagree</option>
                                </select>
                                
                            </div>
                        </div>
                     </div>
                    <div class="row">
                        <div class="input-field col s12">
                            <h3>8</h3>
                            <p class="question">the question</p>
                            <div class="input-field col s6">
                                <select class="answer" id="q8">
                                    <option value="" disabled selected>Choose your option</option>
                                    <option value="5">5 Strongly Agree</option>
                                    <option value="4">4</option>
                                    <option value="3">3</option>
                                    <option value="2">2</option>
                                    <option value="1">1 Strongly Disagree</option>
                                </select>
                                
                            </div>
                        </div>
                     </div>
                    <div class="row">
                        <div class="input-field col s12">
                            <h3>9</h3>
                            <p class="question">the question</p>
                            <div class="input-field col s6">
                                <select class="answer" id="q9">
                                    <option value="" disabled selected>Choose your option</option>
                                    <option value="5">5 Strongly Agree</option>
                                    <option value="4">4</option>
                                    <option value="3">3</option>
                                    <option value="2">2</option>
                                    <option value="1">1 Strongly Disagree</option>
                                </select>
                                
                            </div>
                        </div>
                     </div>
                    <div class="row">
                        <div class="input-field col s12">
                            <h3>10</h3>
                            <p class="question">the question</p>
                            <div class="input-field col s6">
                                <select class="answer" id="q10">
                                    <option value="" disabled selected>Choose your option</option>
                                    <option value="5">5 Strongly Agree</option>
                                    <option value="4">4</option>
                                    <option value="3">3</option>
                                    <option value="2">2</option>
                                    <option value="1">1 Strongly Disagree</option>
                                </select>
                                
                            </div>
                        </div>
                     </div>
                </form>
            </div>
            <button id="submit"class="btn waves-effect waves-light" type="submit" name="action">Submit
                <i class="material-icons right">send</i>
            </button>
            <br>
            <br>
            <br>

 
        </div><!--end container-->
           <footer class="page-footer">
            <div class="container">
                <div class="row">
                    <div class="col l6 s12">
                        <h5 class="white-text">Thanks!</h5>
                        <p class="grey-text text-lighten-4">Thanks for taking my survey!!</p>
                    </div>
                </div>
            </div>
            <div class="footer-copyright">
                <div class="container">
                    Â© 2014 Copyright Text
                <a class="grey-text text-lighten-4 right" href="#!">More Links</a>
                </div>
            </div>
        </footer>

        <!--modal-->
          <!-- Modal Structure -->
            <div id="idolMatch" class="modal">
                <div class="modal-content">
                <h4>Modal Header</h4>
                <p>A bunch of text</p>
                </div>
                <div class="modal-footer">
                    <a href="#!" class="modal-action modal-close waves-effect waves-green btn-flat">Agree</a>
                </div>
            </div>
            <div id="incomplete" class="modal">
                <div class="modal-content">
                <h4>Modal Header</h4>
                <p>A bunch of text</p>
                </div>
                <div class="modal-footer">
                    <a href="#!" class="modal-action modal-close waves-effect waves-green btn-flat">Agree</a>
                </div>
            </div>
        <script type="text/javascript" src="https://cdnjs.cloudflare.com/ajax/libs/materialize/0.98.1/js/materialize.min.js"></script>
        <script>
            $(document).ready(function() {
                $('select').material_select();

                $("#home-nav").on("click", function(){
                    window.location.href = "./home.html";
                })
                //Getting the answers
                $("#submit").on("click", function(event){
                    event.preventDefault();

                    //validate
                    function validateForm() {
                        var isValid = true;
                        $(".validate").each(function() {
                            if ($(this).val() === "") {
                                isValid = false;
                            }
                        });
                        
                        $(".answer").each(function() {
                            if ($(this).val() === "") {
                                isValid = false;
                            }
                        });
                        return isValid;
                    }
                    //going through each input that is filled (well all of them need to have a value)
                    if (validateForm()) {
                        var fanData = {
                            name: $('#name').val(),
                            photo: $('#photo').val(),
                            score: [
                                $("#q1").val(),
                                $("#q2").val(),
                                $("#q3").val(),
                                $("#q4").val(),
                                $("#q5").val(),
                                $("#q6").val(),
                                $("#q7").val(),
                                $("#q8").val(),
                                $("#q9").val(),
                                $("#q10").val()
                            ]
                        };
                        $.post("/api/friends", fanData, function(data) {
                            $('#name').text(idolShip.name);
                            $('#photo').attr('src', idolShip.photo);

                            $('#idolMatch').modal('toggle');
                        });
                    } else {
                        $('#incomplete').modal('open');
                    }
                })

                
            });
        </script>
    </body>

</html>